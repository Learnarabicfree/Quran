<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quranic Wisdom Admin</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <link rel="stylesheet" href="admin/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div id="login-page" class="login-page">
        <div class="login-container">
            <div class="login-header">
                <img src="img/logo.png" alt="Logo">
                <h1>Admin Login</h1>
            </div>
            <form id="login-form">
                <div class="input-group">
                    <input type="text" id="username" name="username" placeholder="Username" required>
                </div>
                <div class="input-group">
                    <input type="password" id="password" name="password" placeholder="Password" required>
                </div>
                <button type="submit">Login</button>
                <p id="login-error">Invalid username or password</p>
            </form>
        </div>
    </div>
    <div id="main-content" style="display: none;">
        <div id="toast" class="toast"></div>
        <div class="username-display" id="username-display"></div>
        <a href="https://learnarabicfree.github.io/Quran" target="_blank" class="home-button">
            <i class="fas fa-home"></i>
            Home
          </a>
    <div id="toast" class="toast"></div>

    <div class="container">
        <h1 class="header">
            Quranic Wisdom - Admin
        </h1>
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab(1)">Submit New Lessons</button>
            <button class="tab-btn" onclick="switchTab(2)">Sinhala Lessons</button>
            <button class="tab-btn" onclick="switchTab(3)">Tamil Lessons</button>
            <button class="tab-btn" onclick="switchTab(4)">English Lessons</button>
        </div>

        <!-- Tab 1: Submit New Lessons -->
        <div id="tab1" class="tab-content active">
            <div class="controls">
                <select id="languageSelect">
                    <option value="">Select Language</option>
                    <option value="Tamil">Tamil</option>
                    <option value="Sinhala">Sinhala</option>
                    <option value="English">English</option>
                </select>

                <select id="categorySelect">
                    <option value="">Select Category</option>
                    <option value="Al Quran">Al Quran</option>
                    <option value="Hadith">Hadith</option>
                </select>
            </div>
            <div id="lessonList" class="lesson-list">
                <!-- Persistent form -->
                <div class="lesson-card">
                    <h3>Add New Lesson</h3>
                    <div class="form-group">
                        <label>Title:</label>
                        <input id="editTitle">
                    </div>
                    
                    <div id="partsContainer">
                        <div class="part-inputs">
                            <div class="form-group">
                                <label>Part Name:</label>
                                <input>
                            </div>
                            <div class="form-group">
                                <label>YouTube URL:</label>
                                <input>
                            </div>
                            <button onclick="removePart(this)" class="remove-part danger">Remove Part</button>
                        </div>
                    </div>
                    
                    <div class="actions">
                        <button onclick="addPart()">Add Part</button>
                        <button onclick="saveLesson()">Save Lesson</button>
                        <button onclick="clearForm()">Clear Form</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 2: Sinhala Lessons -->
        <div id="tab2" class="tab-content">
            <div class="filter-controls">
                <select id="filterCategorySinhala" onchange="filterLessons('Sinhala')">
                    <option value="">All Categories</option>
                    <option value="Al Quran">Al Quran</option>
                    <option value="Hadith">Hadith</option>
                </select>
                <input type="text" id="searchSinhala" placeholder="Search..." onkeyup="filterLessons('Sinhala')">
            </div>
            <div id="sinhalaLessons" class="lesson-list"></div>
        </div>

        <!-- Tab 3: Tamil Lessons -->
        <div id="tab3" class="tab-content">
            <div class="filter-controls">
                <select id="filterCategoryTamil" onchange="filterLessons('Tamil')">
                    <option value="">All Categories</option>
                    <option value="Al Quran">Al Quran</option>
                    <option value="Hadith">Hadith</option>
                </select>
                <input type="text" id="searchTamil" placeholder="Search..." onkeyup="filterLessons('Tamil')">
            </div>
            <div id="tamilLessons" class="lesson-list"></div>
        </div>

        <!-- Tab 4: English Lessons -->
        <div id="tab4" class="tab-content">
            <div class="filter-controls">
                <select id="filterCategoryEnglish" onchange="filterLessons('English')">
                    <option value="">All Categories</option>
                    <option value="Al Quran">Al Quran</option>
                    <option value="Hadith">Hadith</option>
                </select>
                <input type="text" id="searchEnglish" placeholder="Search..." onkeyup="filterLessons('English')">
            </div>
            <div id="englishLessons" class="lesson-list"></div>
        </div>
    </div>

    <script src="admin/admin.js"></script>
    <script src="src/users.js"></script>
    <script src="src/login.js"></script>
</body>
</html>
